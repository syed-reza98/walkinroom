!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}(function(){"use strict";function e(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.documentElement,r=a();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(r.x=0),{top:t.top+r.y-n.clientTop,left:t.left+r.x-n.clientLeft}}function t(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function n(e,t,n){s(e,t),setTimeout(function(){o(e,t)},n)}function r(e){return Math.max(Math.min(e,100),0)}function i(e){return Array.isArray(e)?e:[e]}function s(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function o(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function a(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||"");return{x:e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,y:e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop}}function l(e,t){return 100/(t-e)}function c(e,t){return 100*t/(e[1]-e[0])}function u(e,t){for(var n=1;e>=t[n];)n+=1;return n}function d(e,t,n){if(n>=e.slice(-1)[0])return 100;var r,i,s,o,a=u(n,e);return r=e[a-1],i=e[a],s=t[a-1],o=t[a],s+function(e,t){return c(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([r,i],n)/l(s,o)}function f(e,t,n,r){if(100===r)return r;var i,s,o=u(r,e);return n?r-(i=e[o-1])>((s=e[o])-i)/2?s:i:t[o-1]?e[o-1]+function(e,t){return Math.round(e/t)*t}(r-e[o-1],t[o-1]):r}function p(e,n,r){var i;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider: 'range' contains invalid value.");if(!t(i="min"===e?0:"max"===e?100:parseFloat(e))||!t(n[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");r.xPct.push(i),r.xVal.push(n[0]),i?r.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(r.xSteps[0]=n[1])}function h(e,t,n){if(!t)return!0;n.xSteps[e]=c([n.xVal[e],n.xVal[e+1]],t)/l(n.xPct[e],n.xPct[e+1])}function m(e,t,n,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t,this.direction=n;var i,s=[];for(i in e)e.hasOwnProperty(i)&&s.push([e[i],i]);for(s.length&&"object"==typeof s[0][0]?s.sort(function(e,t){return e[0][0]-t[0][0]}):s.sort(function(e,t){return e[0]-t[0]}),i=0;i<s.length;i++)p(s[i][1],s[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)h(i,this.xNumSteps[i],this)}m.prototype.getMargin=function(e){return 2===this.xPct.length&&c(this.xVal,e)},m.prototype.toStepping=function(e){return e=d(this.xVal,this.xPct,e),this.direction&&(e=100-e),e},m.prototype.fromStepping=function(e){return this.direction&&(e=100-e),function(e,t,n){if(n>=100)return e.slice(-1)[0];var r,i=u(n,t);return function(e,t){return t*(e[1]-e[0])/100+e[0]}([e[i-1],e[i]],(n-(r=t[i-1]))*l(r,t[i]))}(this.xVal,this.xPct,e)},m.prototype.getStep=function(e){return this.direction&&(e=100-e),e=f(this.xPct,this.xSteps,this.snap,e),this.direction&&(e=100-e),e},m.prototype.getApplicableStep=function(e){var t=u(e,this.xPct),n=100===e?2:1;return[this.xNumSteps[t-2],this.xVal[t-n],this.xNumSteps[t-n]]},m.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var v={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};function g(e,n){if(!t(n))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=n}function b(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");e.spectrum=new m(t,e.snap,e.dir,e.singleStep)}function w(e,t){if(t=i(t),!Array.isArray(t)||!t.length||t.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function S(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function y(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function x(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function C(e,t){if("lower"===t&&1===e.handles)e.connect=1;else if("upper"===t&&1===e.handles)e.connect=2;else if(!0===t&&2===e.handles)e.connect=3;else{if(!1!==t)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");e.connect=0}}function E(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function N(e,n){if(!t(n))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==n&&(e.margin=e.spectrum.getMargin(n),!e.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function k(e,n){if(!t(n))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(n),!e.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function U(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1,e.connect=[0,2,1,3][e.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function P(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,i=t.indexOf("fixed")>=0,s=t.indexOf("snap")>=0,o=t.indexOf("hover")>=0;if(r&&!e.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");e.events={tap:n||s,drag:r,fixed:i,snap:s,hover:o}}function O(e,t){var n;if(!1!==t)if(!0===t)for(e.tooltips=[],n=0;n<e.handles;n++)e.tooltips.push(!0);else{if(e.tooltips=i(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function M(e,t){if(e.format=t,"function"==typeof t.to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function L(e,t){if(void 0!==t&&"string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function V(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var n in e.cssClasses={},t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n]);else e.cssClasses=t}function z(e){var t,n={margin:0,limit:0,animate:!0,animationDuration:300,format:v};t={step:{r:!1,t:g},start:{r:!0,t:w},connect:{r:!0,t:C},direction:{r:!0,t:U},snap:{r:!1,t:S},animate:{r:!1,t:y},animationDuration:{r:!1,t:x},range:{r:!0,t:b},orientation:{r:!1,t:E},margin:{r:!1,t:N},limit:{r:!1,t:k},behaviour:{r:!0,t:P},format:{r:!1,t:M},tooltips:{r:!1,t:O},cssPrefix:{r:!1,t:L},cssClasses:{r:!1,t:V}};var r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(t).forEach(function(i){if(void 0===e[i]&&void 0===r[i]){if(t[i].r)throw new Error("noUiSlider: '"+i+"' is required.");return!0}t[i].t(n,void 0===e[i]?r[i]:e[i])}),n.pips=e.pips,n.style=n.ort?"top":"left",n}function A(t,l,c){var u,d,f,p=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},h=t,m=[-1,-1],v=l.spectrum,g=[],b={};function w(e,t){var n=document.createElement("div"),r=document.createElement("div"),i=[l.cssClasses.handleLower,l.cssClasses.handleUpper];return e&&i.reverse(),s(r,l.cssClasses.handle),s(r,i[t]),s(n,l.cssClasses.origin),n.appendChild(r),n}function S(e,t){if(!l.tooltips[t])return!1;var n=document.createElement("div");return n.className=l.cssClasses.tooltip,e.firstChild.appendChild(n)}function y(e,t,n){var r=document.createElement("div"),i="",o=[l.cssClasses.valueNormal,l.cssClasses.valueLarge,l.cssClasses.valueSub],a=[l.cssClasses.markerNormal,l.cssClasses.markerLarge,l.cssClasses.markerSub],c=[l.cssClasses.valueHorizontal,l.cssClasses.valueVertical],u=[l.cssClasses.markerHorizontal,l.cssClasses.markerVertical];function d(e,t,n){return'class="'+function(e,t){var n=t===l.cssClasses.value,r=n?o:a;return t+" "+(n?c:u)[l.ort]+" "+r[e]}(n[1],t)+'" style="'+l.style+": "+e+'%"'}return s(r,l.cssClasses.pips),s(r,0===l.ort?l.cssClasses.pipsHorizontal:l.cssClasses.pipsVertical),Object.keys(e).forEach(function(r){var s,o;s=r,o=e[r],v.direction&&(s=100-s),o[1]=o[1]&&t?t(o[0],o[1]):o[1],i+="<div "+d(s,l.cssClasses.marker,o)+"></div>",o[1]&&(i+="<div "+d(s,l.cssClasses.value,o)+">"+n.to(o[0])+"</div>")}),r.innerHTML=i,r}function x(e){var t=e.mode,n=e.density||1,r=e.filter||!1,i=function(e,t,n){if("range"===e||"steps"===e)return v.xVal;if("count"===e){var r,i=100/(t-1),s=0;for(t=[];(r=s++*i)<=100;)t.push(r);e="positions"}return"positions"===e?t.map(function(e){return v.fromStepping(n?v.getStep(e):e)}):"values"===e?n?t.map(function(e){return v.fromStepping(v.getStep(v.toStepping(e)))}):t:void 0}(t,e.values||!1,e.stepped||!1),s=function(e,t,n){var r,i=v.direction,s={},o=v.xVal[0],a=v.xVal[v.xVal.length-1],l=!1,c=!1,u=0;return v.direction=0,r=n.slice().sort(function(e,t){return e-t}),(n=r.filter(function(e){return!this[e]&&(this[e]=!0)},{}))[0]!==o&&(n.unshift(o),l=!0),n[n.length-1]!==a&&(n.push(a),c=!0),n.forEach(function(r,i){var o,a,d,f,p,h,m,g,b,w=r,S=n[i+1];if("steps"===t&&(o=v.xNumSteps[i]),o||(o=S-w),!1!==w&&void 0!==S)for(a=w;a<=S;a=(a+o).toFixed(7)/1){for(m=(p=(f=v.toStepping(a))-u)/e,b=p/(g=Math.round(m)),d=1;d<=g;d+=1)s[(u+d*b).toFixed(5)]=["x",0];h=n.indexOf(a)>-1?1:"steps"===t?2:0,!i&&l&&(h=0),a===S&&c||(s[f.toFixed(5)]=[a,h]),u=f}}),v.direction=i,s}(n,t,i),o=e.format||{to:Math.round};return h.appendChild(y(s,r,o))}function C(){var e=u.getBoundingClientRect(),t="offset"+["Width","Height"][l.ort];return 0===l.ort?e.width||u[t]:e.height||u[t]}function E(e,t,n){var r;for(r=0;r<l.handles;r++)if(-1===m[r])return;void 0!==t&&1!==l.handles&&(t=Math.abs(t-l.dir)),Object.keys(b).forEach(function(r){var s=r.split(".")[0];e===s&&b[r].forEach(function(e){e.call(f,i(D()),t,i(N(Array.prototype.slice.call(g))),n||!1,m)})})}function N(e){return 1===e.length?e[0]:l.dir?e.reverse():e}function k(e,t,n,r){var i=function(t){return!h.hasAttribute("disabled")&&(i=h,s=l.cssClasses.tap,(i.classList?!i.classList.contains(s):!new RegExp("\\b"+s+"\\b").test(i.className))&&(t=function(e,t){e.preventDefault();var n,r,i=0===e.type.indexOf("touch"),s=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer"),l=e;return 0===e.type.indexOf("MSPointer")&&(o=!0),i&&(n=e.changedTouches[0].pageX,r=e.changedTouches[0].pageY),t=t||a(),(s||o)&&(n=e.clientX+t.x,r=e.clientY+t.y),l.pageOffset=t,l.points=[n,r],l.cursor=s||o,l}(t,r.pageOffset),!(e===p.start&&void 0!==t.buttons&&t.buttons>1)&&((!r.hover||!t.buttons)&&(t.calcPoint=t.points[l.ort],void n(t,r)))));var i,s},s=[];return e.split(" ").forEach(function(e){t.addEventListener(e,i,!1),s.push([e,i])}),s}function U(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return P(e,t);var n,i,s,o,a,l,c,u=t.handles||d,f=!1,p=100*(e.calcPoint-t.start)/t.baseSize,h=u[0]===d[0]?0:1;if(s=p,o=t.positions,a=u.length>1,l=s+o[0],c=s+o[1],n=a?(l<0&&(c+=Math.abs(l)),c>100&&(l-=c-100),[r(l),r(c)]):[l,c],f=A(u[0],n[h],1===u.length),u.length>1){if(f=A(u[1],n[h?0:1],!1)||f)for(i=0;i<t.handles.length;i++)E("slide",i)}else f&&E("slide",h)}function P(e,t){var n=u.querySelector("."+l.cssClasses.active),r=t.handles[0]===d[0]?0:1;null!==n&&o(n,l.cssClasses.active),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var i=document.documentElement;i.noUiListeners.forEach(function(e){i.removeEventListener(e[0],e[1])}),o(h,l.cssClasses.drag),E("set",r),E("change",r),void 0!==t.handleNumber&&E("end",t.handleNumber)}function O(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&P(e,t)}function M(e,t){var n=document.documentElement;if(1===t.handles.length){if(t.handles[0].hasAttribute("disabled"))return!1;s(t.handles[0].children[0],l.cssClasses.active)}e.preventDefault(),e.stopPropagation();var r=k(p.move,n,U,{start:e.calcPoint,baseSize:C(),pageOffset:e.pageOffset,handles:t.handles,handleNumber:t.handleNumber,buttonsProperty:e.buttons,positions:[m[0],m[d.length-1]]}),i=k(p.end,n,P,{handles:t.handles,handleNumber:t.handleNumber}),o=k("mouseout",n,O,{handles:t.handles,handleNumber:t.handleNumber});if(n.noUiListeners=r.concat(i,o),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,d.length>1&&s(h,l.cssClasses.drag);var a=function(){return!1};document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1)}void 0!==t.handleNumber&&E("start",t.handleNumber)}function L(t){var r,i,s=t.calcPoint,o=0;if(t.stopPropagation(),d.forEach(function(t){o+=e(t)[l.style]}),r=s<o/2||1===d.length?0:1,d[r].hasAttribute("disabled")&&(r=r?0:1),i=100*(s-=e(u)[l.style])/C(),l.events.snap||n(h,l.cssClasses.tap,l.animationDuration),d[r].hasAttribute("disabled"))return!1;A(d[r],i),E("slide",r,!0),E("set",r,!0),E("change",r,!0),l.events.snap&&M(t,{handles:[d[r]]})}function V(t){var n=t.calcPoint-e(u)[l.style],r=v.getStep(100*n/C()),i=v.fromStepping(r);Object.keys(b).forEach(function(e){"hover"===e.split(".")[0]&&b[e].forEach(function(e){e.call(f,i)})})}function A(e,t,n){var i=e!==d[0]?1:0,a=m[0]+l.margin,c=m[1]-l.margin,u=m[0]+l.limit,f=m[1]-l.limit;return d.length>1&&(t=i?Math.max(t,a):Math.min(t,c)),!1!==n&&l.limit&&d.length>1&&(t=i?Math.min(t,u):Math.max(t,f)),(t=r(t=v.getStep(t)))!==m[i]&&(window.requestAnimationFrame?window.requestAnimationFrame(function(){e.style[l.style]=t+"%"}):e.style[l.style]=t+"%",e.previousSibling||(o(e,l.cssClasses.stacking),t>50&&s(e,l.cssClasses.stacking)),m[i]=t,g[i]=v.fromStepping(t),E("update",i),!0)}function j(e,t){var r,s,o=i(e);for(t=void 0===t||!!t,l.dir&&l.handles>1&&o.reverse(),l.animate&&-1!==m[0]&&n(h,l.cssClasses.tap,l.animationDuration),r=d.length>1?3:1,1===o.length&&(r=1),function(e,t){var n,r,i;for(l.limit&&(e+=1),n=0;n<e;n+=1)null!==(i=t[r=n%2])&&!1!==i&&("number"==typeof i&&(i=String(i)),(!1===(i=l.format.from(i))||isNaN(i)||!1===A(d[r],v.toStepping(i),n===3-l.dir))&&E("update",r))}(r,o),s=0;s<d.length;s++)null!==o[s]&&t&&E("set",s)}function D(){var e,t=[];for(e=0;e<l.handles;e+=1)t[e]=l.format.to(g[e]);return N(t)}function H(e,t){b[e]=b[e]||[],b[e].push(t),"update"===e.split(".")[0]&&d.forEach(function(e,t){E("update",t)})}if(h.noUiSlider)throw new Error("Slider was already initialized.");return u=function(e,t,n){s(n,l.cssClasses.target),s(n,0===e?l.cssClasses.ltr:l.cssClasses.rtl),s(n,0===t?l.cssClasses.horizontal:l.cssClasses.vertical);var r=document.createElement("div");return s(r,l.cssClasses.base),n.appendChild(r),r}(l.dir,l.ort,h),d=function(e,t,n){var r,i=[];for(r=0;r<e;r+=1)i.push(n.appendChild(w(t,r)));return i}(l.handles,l.dir,u),function(e,t,n){switch(e){case 1:s(t,l.cssClasses.connect),s(n[0],l.cssClasses.background);break;case 3:s(n[1],l.cssClasses.background);case 2:s(n[0],l.cssClasses.connect);case 0:s(t,l.cssClasses.background)}}(l.connect,h,d),l.pips&&x(l.pips),l.tooltips&&function(){l.dir&&l.tooltips.reverse();var e=d.map(S);l.dir&&(e.reverse(),l.tooltips.reverse()),H("update",function(t,n,r){e[n]&&(e[n].innerHTML=!0===l.tooltips[n]?t[n]:l.tooltips[n].to(r[n]))})}(),f={destroy:function(){for(var e in l.cssClasses)l.cssClasses.hasOwnProperty(e)&&o(h,l.cssClasses[e]);for(;h.firstChild;)h.removeChild(h.firstChild);delete h.noUiSlider},steps:function(){return N(m.map(function(e,t){var n,r,i=v.getApplicableStep(e),s=(n=String(i[2]),(r=n.split(".")).length>1?r[1].length:0),o=g[t],a=100===e?null:i[2],l=Number((o-i[2]).toFixed(s));return[0===e?null:l>=i[1]?i[2]:i[0]||!1,a]}))},on:H,off:function(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(b).forEach(function(e){var r=e.split(".")[0],i=e.substring(r.length);t&&t!==r||n&&n!==i||delete b[e]})},get:D,set:j,updateOptions:function(e,t){var n=D(),r=z({start:[0,0],margin:e.margin,limit:e.limit,step:void 0===e.step?l.singleStep:e.step,range:e.range,animate:e.animate,snap:void 0===e.snap?l.snap:e.snap});["margin","limit","range","animate"].forEach(function(t){void 0!==e[t]&&(l[t]=e[t])}),r.spectrum.direction=v.direction,v=r.spectrum,m=[-1,-1],j(e.start||n,t)},options:c,target:h,pips:x},function(e){if(e.fixed||d.forEach(function(e,t){k(p.start,e.children[0],M,{handles:[e],handleNumber:t})}),e.tap&&k(p.start,u,L,{handles:d}),e.hover&&k(p.move,u,V,{hover:!0}),e.drag){var t=[u.querySelector("."+l.cssClasses.connect)];s(t[0],l.cssClasses.draggable),e.fixed&&t.push(d[t[0]===d[0]?1:0].children[0]),t.forEach(function(e){k(p.start,e,M,{handles:d})})}}(l.events),f}return{create:function(e,t){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=z(t),r=A(e,n,t);return r.set(n.start),e.noUiSlider=r,r}}});
